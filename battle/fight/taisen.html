<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>Deck Dreamers - バトル</title>
    <link rel="stylesheet" href="taisen.css">
</head>
<body>
    <div class="battle-container">
        <!-- 対戦相手エリア -->
        <div class="player-area opponent-area">
            <div class="player-info">
                <div class="hp-display">
                    HP: <div class="hp-bar"><div id="opponent-hp-bar" class="hp-fill" style="width: 100%;"></div></div>
                    <span id="opponent-hp">10/10</span>
                </div>
                <div class="deck">
                    <img src="/battle/gatya/写真/カードの裏面.png" alt="カードの裏面" class="card-back">
                    <span class="deck-count" id="opponent-deck-count">25</span>
                </div>
            </div>
        </div>

        <!-- 相手の手札エリア -->
        <div class="hand-area" id="opponent-hand">
            <!-- 相手の手札（裏向き）は動的に生成 -->
        </div>

        <!-- バトルゾーン -->
        <div class="battle-zone">
            <!-- 対戦相手のフィールド -->
            <div class="field-side opponent-field">
                <div class="card-slot" id="opponent-battle-slot"></div>
            </div>

            <!-- タイマーとターン表示 -->
            <div class="timer-container">
                <div class="turn-indicator" id="turn-indicator"></div>
                <div class="timer">60</div>
            </div>

            <!-- プレイヤーのフィールド -->
            <div class="field-side player-field">
                <div class="card-slot" id="player-battle-slot"></div>
            </div>

            <!-- 神の一手ゾーン -->
            <div class="god-hand-zone">
                <div class="god-hand-title">神の一手</div>
                <div class="card god-hand" draggable="true" data-type="god" data-effect="damage_up">
                    <div class="card-content">
                        <div class="card-value">神</div>
                        <div class="card-type">ダメージ+5</div>
                    </div>
                </div>
                <div class="card god-hand" draggable="true" data-type="god" data-effect="discard">
                    <div class="card-content">
                        <div class="card-value">神</div>
                        <div class="card-type">手札破棄</div>
                    </div>
                </div>
                <div class="god-hand-remaining">残り使用回数: 2</div>
            </div>
        </div>

        <!-- プレイヤーの手札エリア -->
        <div class="hand-area" id="player-hand">
            <!-- プレイヤーの手札は動的に生成 -->
        </div>

        <!-- プレイヤーエリア -->
        <div class="player-area player-area-self">
            <div class="player-info">
                <div class="hp-display">
                    HP: <div class="hp-bar"><div id="player-hp-bar" class="hp-fill" style="width: 100%;"></div></div>
                    <span id="player-hp">10/10</span>
                </div>
                <div class="deck">
                    <img src="/battle/gatya/写真/カードの裏面.png" alt="カードの裏面" class="card-back">
                    <span class="deck-count" id="player-deck-count">25</span>
                </div>
            </div>
        </div>
    </div>

    <!-- カード詳細表示用のポップアップ -->
    <div class="card-popup"></div>

    <!-- 対戦結果モーダル -->
    <div class="result-modal" id="result-modal">
        <div class="result-content">
            <h2 id="result-title"></h2>
            <p id="result-message"></p>
            <button onclick="location.href='../Room/room.html'" class="return-button">メニューに戻る</button>
        </div>
    </div>

    <!-- マッチング中のローディング -->
    <div id="matching-overlay" class="matching-overlay">
        <div class="matching-content">
            <div class="loading-spinner"></div>
            <p>対戦相手を待っています...</p>
        </div>
    </div>

    <!-- Firebase SDKの読み込み -->
    <script type="module" src="matching.js"></script>
    <script type="module" src="taisen.js"></script>
</body>
</html>